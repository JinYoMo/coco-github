{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport Repo from '../../components/Repo';\nimport { withRouter } from 'next/router';\nimport Link from 'next/link';\nimport api from '../../lib/api';\n\nfunction makeQuery(queryObject) {\n  var query = _Object$entries(queryObject).reduce(function (result, entry) {\n    result.push(entry.join('='));\n    return result;\n  }, []).join('&');\n\n  return \"?\".concat(query);\n}\n\nfunction Detail(_ref) {\n  var repoBasic = _ref.repoBasic,\n      router = _ref.router;\n  console.log(repoBasic, router);\n  var query1 = makeQuery(router.query);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-1242838066\" + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-1242838066\" + \" \" + \"repo-basic\"\n  }, /*#__PURE__*/React.createElement(Repo, {\n    repo: repoBasic\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-1242838066\" + \" \" + \"tabs\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/detail\".concat(query1)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"jsx-1242838066\" + \" \" + \"tab index\"\n  }, \"Readme\")), /*#__PURE__*/React.createElement(Link, {\n    href: \"/detail/issues\".concat(query1)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"jsx-1242838066\" + \" \" + \"tab issues\"\n  }, \"Issues\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-1242838066\"\n  }, \"Readme\"), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1242838066\"\n  }, \".root.jsx-1242838066{padding-top:20px;}.repo-basic.jsx-1242838066{padding:20px;border:1px solid #eee;margin-bottom:20px;border-radius:5px;}.tab.jsx-1242838066+.tab.jsx-1242838066{margin-left:20px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxkZXRhaWxcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdDbUIsQUFHOEIsQUFHSixBQU1JLGFBTEssSUFIeEIsQUFTQSxrQkFMcUIsbUJBQ0Qsa0JBQ3BCIiwiZmlsZSI6IkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxkZXRhaWxcXGluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlcG8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9SZXBvJ1xyXG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcclxuXHJcbmltcG9ydCBhcGkgZnJvbSAnLi4vLi4vbGliL2FwaSdcclxuXHJcbmZ1bmN0aW9uIG1ha2VRdWVyeShxdWVyeU9iamVjdCl7XHJcbiAgIGNvbnN0IHF1ZXJ5PU9iamVjdC5lbnRyaWVzKHF1ZXJ5T2JqZWN0KVxyXG4gICAgICAucmVkdWNlKChyZXN1bHQsZW50cnkpPT57XHJcbiAgICAgICAgcmVzdWx0LnB1c2goZW50cnkuam9pbignPScpKVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0sW10pLmpvaW4oJyYnKVxyXG4gICByZXR1cm4gYD8ke3F1ZXJ5fWBcclxufVxyXG5cclxuZnVuY3Rpb24gRGV0YWlsKHtyZXBvQmFzaWMscm91dGVyfSl7XHJcbiAgY29uc29sZS5sb2cocmVwb0Jhc2ljLHJvdXRlcilcclxuICBjb25zdCBxdWVyeTE9bWFrZVF1ZXJ5KHJvdXRlci5xdWVyeSlcclxuICByZXR1cm4gKFxyXG4gICAgIDxkaXYgY2xhc3NOYW1lPVwicm9vdFwiPlxyXG4gICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXBvLWJhc2ljXCI+XHJcbiAgICAgICAgICA8UmVwbyByZXBvPXtyZXBvQmFzaWN9IC8+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYnNcIj5cclxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9kZXRhaWwke3F1ZXJ5MX1gfT5cclxuICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwidGFiIGluZGV4XCI+UmVhZG1lPC9hPlxyXG4gICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvZGV0YWlsL2lzc3VlcyR7cXVlcnkxfWB9PlxyXG4gICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJ0YWIgaXNzdWVzXCI+SXNzdWVzPC9hPlxyXG4gICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICAgPGRpdj5SZWFkbWU8L2Rpdj5cclxuICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIC5yb290IHtcclxuICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucmVwby1iYXNpYyB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC50YWIgKyAudGFiIHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgIDwvZGl2PiBcclxuICApXHJcbn1cclxuXHJcbkRldGFpbC5nZXRJbml0aWFsUHJvcHM9YXN5bmMoe3JvdXRlcixjdHh9KT0+e1xyXG4gIGNvbnN0IHtvd25lcixuYW1lfT1jdHgucXVlcnlcclxuICAvLyByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e1xyXG4gIC8vICAgc2V0VGltZW91dCgoKT0+e1xyXG4gIC8vICAgICByZXNvbHZlKHt9KVxyXG4gIC8vICAgfSwxMDAwKVxyXG4gIC8vIH0pXHJcbiAgY29uc3QgcmVwb0Jhc2ljPWF3YWl0IGFwaS5yZXF1ZXN0KHtcclxuICAgIHVybDpgL3JlcG9zLyR7b3duZXJ9LyR7bmFtZX1gXHJcbiAgfSxjdHgucmVxLGN0eC5yZXMpXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXBvQmFzaWM6cmVwb0Jhc2ljLmRhdGFcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoRGV0YWlsKSJdfQ== */\\n/*@ sourceURL=E:\\\\\\u4E2A\\u4EBA\\u9879\\u76EE\\\\gitHub\\u9879\\u76EE\\\\coco-github\\\\pages\\\\detail\\\\index.js */\"));\n}\n\nDetail.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var router, ctx, _ctx$query, owner, name, repoBasic;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            router = _ref2.router, ctx = _ref2.ctx;\n            _ctx$query = ctx.query, owner = _ctx$query.owner, name = _ctx$query.name; // return new Promise(resolve=>{\n            //   setTimeout(()=>{\n            //     resolve({})\n            //   },1000)\n            // })\n\n            _context.next = 4;\n            return api.request({\n              url: \"/repos/\".concat(owner, \"/\").concat(name)\n            }, ctx.req, ctx.res);\n\n          case 4:\n            repoBasic = _context.sent;\n            return _context.abrupt(\"return\", {\n              repoBasic: repoBasic.data\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default withRouter(Detail);","map":{"version":3,"sources":["E:/个人项目/gitHub项目/coco-github/pages/detail/index.js"],"names":["Repo","withRouter","Link","api","makeQuery","queryObject","query","reduce","result","entry","push","join","Detail","repoBasic","router","console","log","query1","getInitialProps","ctx","owner","name","request","url","req","res","data"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,uBAAjB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,GAAP,MAAgB,eAAhB;;AAEA,SAASC,SAAT,CAAmBC,WAAnB,EAA+B;AAC5B,MAAMC,KAAK,GAAC,gBAAeD,WAAf,EACRE,MADQ,CACD,UAACC,MAAD,EAAQC,KAAR,EAAgB;AACtBD,IAAAA,MAAM,CAACE,IAAP,CAAYD,KAAK,CAACE,IAAN,CAAW,GAAX,CAAZ;AACA,WAAOH,MAAP;AACD,GAJQ,EAIP,EAJO,EAIHG,IAJG,CAIE,GAJF,CAAZ;;AAKA,oBAAWL,KAAX;AACF;;AAED,SAASM,MAAT,OAAmC;AAAA,MAAlBC,SAAkB,QAAlBA,SAAkB;AAAA,MAARC,MAAQ,QAARA,MAAQ;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ,EAAsBC,MAAtB;AACA,MAAMG,MAAM,GAACb,SAAS,CAACU,MAAM,CAACR,KAAR,CAAtB;AACA,sBACG;AAAA,wCAAe;AAAf,kBACE;AAAA,wCAAe;AAAf,kBACG,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEO;AAAZ,IADH,eAEG;AAAA,wCAAe;AAAf,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,mBAAYI,MAAZ;AAAV,kBACG;AAAA,wCAAa;AAAb,cADH,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,IAAI,0BAAmBA,MAAnB;AAAV,kBACG;AAAA,wCAAa;AAAb,cADH,CAJF,CAFH,CADF,eAYE;AAAA;AAAA,cAZF;AAAA;AAAA,gnGADH;AA8BD;;AAEDL,MAAM,CAACM,eAAP;AAAA,uEAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOJ,YAAAA,MAAP,SAAOA,MAAP,EAAcK,GAAd,SAAcA,GAAd;AAAA,yBACFA,GAAG,CAACb,KADF,EACdc,KADc,cACdA,KADc,EACRC,IADQ,cACRA,IADQ,EAErB;AACA;AACA;AACA;AACA;;AANqB;AAAA,mBAOClB,GAAG,CAACmB,OAAJ,CAAY;AAChCC,cAAAA,GAAG,mBAAWH,KAAX,cAAoBC,IAApB;AAD6B,aAAZ,EAEpBF,GAAG,CAACK,GAFgB,EAEZL,GAAG,CAACM,GAFQ,CAPD;;AAAA;AAOfZ,YAAAA,SAPe;AAAA,6CAWd;AACLA,cAAAA,SAAS,EAACA,SAAS,CAACa;AADf,aAXc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAgBA,eAAezB,UAAU,CAACW,MAAD,CAAzB","sourcesContent":["import Repo from '../../components/Repo'\r\nimport { withRouter } from 'next/router'\r\nimport Link from 'next/link'\r\n\r\nimport api from '../../lib/api'\r\n\r\nfunction makeQuery(queryObject){\r\n   const query=Object.entries(queryObject)\r\n      .reduce((result,entry)=>{\r\n        result.push(entry.join('='))\r\n        return result;\r\n      },[]).join('&')\r\n   return `?${query}`\r\n}\r\n\r\nfunction Detail({repoBasic,router}){\r\n  console.log(repoBasic,router)\r\n  const query1=makeQuery(router.query)\r\n  return (\r\n     <div className=\"root\">\r\n       <div className=\"repo-basic\">\r\n          <Repo repo={repoBasic} />\r\n          <div className=\"tabs\">\r\n            <Link href={`/detail${query1}`}>\r\n               <a className=\"tab index\">Readme</a>\r\n            </Link>\r\n            <Link href={`/detail/issues${query1}`}>\r\n               <a className=\"tab issues\">Issues</a>\r\n            </Link>\r\n          </div>\r\n       </div>\r\n       <div>Readme</div>\r\n       <style jsx>{`\r\n          .root {\r\n            padding-top: 20px;\r\n          }\r\n          .repo-basic {\r\n            padding: 20px;\r\n            border: 1px solid #eee;\r\n            margin-bottom: 20px;\r\n            border-radius: 5px;\r\n          }\r\n          .tab + .tab {\r\n            margin-left: 20px;\r\n          }\r\n        `}</style>\r\n     </div> \r\n  )\r\n}\r\n\r\nDetail.getInitialProps=async({router,ctx})=>{\r\n  const {owner,name}=ctx.query\r\n  // return new Promise(resolve=>{\r\n  //   setTimeout(()=>{\r\n  //     resolve({})\r\n  //   },1000)\r\n  // })\r\n  const repoBasic=await api.request({\r\n    url:`/repos/${owner}/${name}`\r\n  },ctx.req,ctx.res)\r\n\r\n  return {\r\n    repoBasic:repoBasic.data\r\n  }\r\n}\r\n\r\nexport default withRouter(Detail)"]},"metadata":{},"sourceType":"module"}