{"ast":null,"code":"//创建store\nimport { createStore } from 'redux';\nvar initialState = {\n  count: 0\n};\nvar ADD = 'ADD';\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(state, action);\n\n  switch (action.type) {\n    case 'ADD':\n      return {\n        count: state.count + 1\n      };\n    //返回新对象 不能使用state.count+=1 return state 这种方式未改变state的地址，从而未对比值更新，即更新了状态，页面未渲染\n\n    default:\n      return state;\n  }\n}\n\nvar store = createStore(reducer, initialState); // console.log(store.getState())  //获取到state\n\nstore.dispatch({\n  type: 'ADD'\n}); //再次执行reducer，将action传入 从而更新state\n// console.log(store.getState())  //获取新的state\n//subscribe该方法每次数据变更均会调用(后面)\n\nstore.subscribe(function () {\n  console.log('change', store.getState());\n});\nstore.dispatch({\n  type: 'ADD'\n}); //再次执行reducer，将action传入 从而更新state\n\nexport default store;","map":{"version":3,"sources":["E:/个人项目/gitHub项目/coco-github/store/store.js"],"names":["createStore","initialState","count","ADD","reducer","state","action","console","log","type","store","dispatch","subscribe","getState"],"mappings":"AAAA;AACA,SAAQA,WAAR,QAA0B,OAA1B;AACA,IAAMC,YAAY,GAAC;AACjBC,EAAAA,KAAK,EAAC;AADW,CAAnB;AAGA,IAAMC,GAAG,GAAC,KAAV;;AACA,SAASC,OAAT,GAA2C;AAAA,MAA1BC,KAA0B,uEAApBJ,YAAoB;AAAA,MAAPK,MAAO;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAkBC,MAAlB;;AACA,UAAQA,MAAM,CAACG,IAAf;AACE,SAAK,KAAL;AACE,aAAO;AAACP,QAAAA,KAAK,EAACG,KAAK,CAACH,KAAN,GAAY;AAAnB,OAAP;AAA+B;;AACjC;AACE,aAAOG,KAAP;AAJJ;AAMD;;AACD,IAAMK,KAAK,GAACV,WAAW,CAACI,OAAD,EAASH,YAAT,CAAvB,C,CACA;;AACAS,KAAK,CAACC,QAAN,CAAe;AAACF,EAAAA,IAAI,EAAC;AAAN,CAAf,E,CAA8B;AAC9B;AACA;;AACAC,KAAK,CAACE,SAAN,CAAgB,YAAI;AAClBL,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBE,KAAK,CAACG,QAAN,EAArB;AACD,CAFD;AAGAH,KAAK,CAACC,QAAN,CAAe;AAACF,EAAAA,IAAI,EAAC;AAAN,CAAf,E,CAA8B;;AAE9B,eAAeC,KAAf","sourcesContent":["//创建store\r\nimport {createStore} from 'redux';\r\nconst initialState={\r\n  count:0,\r\n}\r\nconst ADD='ADD';\r\nfunction reducer(state=initialState,action){\r\n  console.log(state,action)\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      return {count:state.count+1};  //返回新对象 不能使用state.count+=1 return state 这种方式未改变state的地址，从而未对比值更新，即更新了状态，页面未渲染\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst store=createStore(reducer,initialState)\r\n// console.log(store.getState())  //获取到state\r\nstore.dispatch({type:'ADD'})  //再次执行reducer，将action传入 从而更新state\r\n// console.log(store.getState())  //获取新的state\r\n//subscribe该方法每次数据变更均会调用(后面)\r\nstore.subscribe(()=>{\r\n  console.log('change',store.getState());\r\n})\r\nstore.dispatch({type:'ADD'})  //再次执行reducer，将action传入 从而更新state\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}