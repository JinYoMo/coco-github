{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport withRepoBasic from '../../components/with-repo-basic';\nimport api from '../../lib/api';\n\nfunction IssueItem(_ref) {\n  var issue = _ref.issue;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2198506698\" + \" \" + \"issue\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2198506698\" + \" \" + \"avatar\"\n  }, /*#__PURE__*/React.createElement(_Avatar, {\n    src: issue.user.avatar_url,\n    shape: \"square\",\n    size: 50\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2198506698\" + \" \" + \"main-info\"\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"jsx-2198506698\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2198506698\"\n  }, issue.title)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"jsx-2198506698\" + \" \" + \"sub-info\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2198506698\"\n  }, \"Updated at \", issue.updated_at))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2198506698\"\n  }, \".issue.jsx-2198506698{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;padding:10px;}.issue.jsx-2198506698:hover{background:#fafafa;}.issue.jsx-2198506698+.issue.jsx-2198506698{border-top:1px solid #eee;}.main-info.jsx-2198506698>h6.jsx-2198506698{max-width:600px;font-size:16px;padding-right:40px;}.avatar.jsx-2198506698{margin-right:20px;}.sub-info.jsx-2198506698{margin-bottom:0;}.sub-info.jsx-2198506698>span.jsx-2198506698+span.jsx-2198506698{display:inline-block;margin-left:20px;font-size:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxkZXRhaWxcXGlzc3Vlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQmtCLEFBRzBCLEFBS00sQUFHTyxBQUdWLEFBS0UsQUFHRixBQUdLLGdCQVZOLEFBUWpCLEVBSEEsQ0FYQSxFQWlCbUIsS0FkbkIsS0FJcUIsT0FXSixZQVZqQixHQVdBLHFCQXhCb0Isa0JBQ0wsYUFDZiIsImZpbGUiOiJFOlxc5Liq5Lq66aG555uuXFxnaXRIdWLpobnnm65cXGNvY28tZ2l0aHViXFxwYWdlc1xcZGV0YWlsXFxpc3N1ZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0F2YXRhcn0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHdpdGhSZXBvQmFzaWMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy93aXRoLXJlcG8tYmFzaWMnXHJcblxyXG5pbXBvcnQgYXBpIGZyb20gJy4uLy4uL2xpYi9hcGknXHJcblxyXG5mdW5jdGlvbiBJc3N1ZUl0ZW0oe2lzc3VlfSl7XHJcbiAgIHJldHVybiAoXHJcbiAgICAgPGRpdiBjbGFzc05hbWU9XCJpc3N1ZVwiPlxyXG4gICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJcIj5cclxuICAgICAgICAgPEF2YXRhciBzcmM9e2lzc3VlLnVzZXIuYXZhdGFyX3VybH0gc2hhcGU9XCJzcXVhcmVcIiBzaXplPXs1MH0gLz5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWluZm9cIj5cclxuICAgICAgICAgPGg2PlxyXG4gICAgICAgICAgIDxzcGFuPntpc3N1ZS50aXRsZX08L3NwYW4+XHJcbiAgICAgICAgIDwvaDY+XHJcbiAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN1Yi1pbmZvXCI+XHJcbiAgICAgICAgICAgPHNwYW4+VXBkYXRlZCBhdCB7aXNzdWUudXBkYXRlZF9hdH08L3NwYW4+XHJcbiAgICAgICAgIDwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAuaXNzdWUge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuaXNzdWU6aG92ZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmlzc3VlICsgLmlzc3VlIHtcclxuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubWFpbi1pbmZvID4gaDYge1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYXZhdGFyIHtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnN1Yi1pbmZvIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5zdWItaW5mbyA+IHNwYW4gKyBzcGFuIHtcclxuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICAgPC9kaXY+XHJcbiAgIClcclxufVxyXG5mdW5jdGlvbiBJc3N1ZXMgKHtpc3N1ZXN9KXtcclxuICBjb25zb2xlLmxvZyhpc3N1ZXMpXHJcbiAgcmV0dXJuIChcclxuICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvb3RcIj5cclxuICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXNzdWVzXCI+XHJcbiAgICAgICAgIHtpc3N1ZXMubWFwKGlzc3VlPT48SXNzdWVJdGVtIGlzc3VlPXtpc3N1ZX0ga2V5PXtpc3N1ZS5pZH0gLz4pfVxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5Jc3N1ZXMuZ2V0SW5pdGlhbFByb3BzPWFzeW5jKHtjdHh9KT0+e1xyXG4gIGNvbnN0IHtvd25lcixuYW1lfT1jdHgucXVlcnlcclxuXHJcbiAgY29uc3QgaXNzdWVzUmVwb3M9YXdhaXQgYXBpLnJlcXVlc3Qoe1xyXG4gICAgdXJsOmAvcmVwb3MvJHtvd25lcn0vJHtuYW1lfS9pc3N1ZXNgXHJcbiAgfSxjdHgucmVxLGN0eC5yZXMpXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpc3N1ZXM6aXNzdWVzUmVwb3MuZGF0YVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFJlcG9CYXNpYyhJc3N1ZXMsJ2lzc3VlcycpIl19 */\\n/*@ sourceURL=E:\\\\\\u4E2A\\u4EBA\\u9879\\u76EE\\\\gitHub\\u9879\\u76EE\\\\coco-github\\\\pages\\\\detail\\\\issues.js */\"));\n}\n\nfunction Issues(_ref2) {\n  var issues = _ref2.issues;\n  console.log(issues);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"issues\"\n  }, issues.map(function (issue) {\n    return /*#__PURE__*/React.createElement(IssueItem, {\n      issue: issue,\n      key: issue.id\n    });\n  })));\n}\n\nIssues.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref3) {\n    var ctx, _ctx$query, owner, name, issuesRepos;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ctx = _ref3.ctx;\n            _ctx$query = ctx.query, owner = _ctx$query.owner, name = _ctx$query.name;\n            _context.next = 4;\n            return api.request({\n              url: \"/repos/\".concat(owner, \"/\").concat(name, \"/issues\")\n            }, ctx.req, ctx.res);\n\n          case 4:\n            issuesRepos = _context.sent;\n            return _context.abrupt(\"return\", {\n              issues: issuesRepos.data\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexport default withRepoBasic(Issues, 'issues');","map":{"version":3,"sources":["E:/个人项目/gitHub项目/coco-github/pages/detail/issues.js"],"names":["withRepoBasic","api","IssueItem","issue","user","avatar_url","title","updated_at","Issues","issues","console","log","map","id","getInitialProps","ctx","query","owner","name","request","url","req","res","issuesRepos","data"],"mappings":";;;;;AACA,OAAOA,aAAP,MAA0B,kCAA1B;AAEA,OAAOC,GAAP,MAAgB,eAAhB;;AAEA,SAASC,SAAT,OAA2B;AAAA,MAAPC,KAAO,QAAPA,KAAO;AACxB,sBACE;AAAA,wCAAe;AAAf,kBACE;AAAA,wCAAe;AAAf,kBACE;AAAQ,IAAA,GAAG,EAAEA,KAAK,CAACC,IAAN,CAAWC,UAAxB;AAAoC,IAAA,KAAK,EAAC,QAA1C;AAAmD,IAAA,IAAI,EAAE;AAAzD,IADF,CADF,eAIE;AAAA,wCAAe;AAAf,kBACE;AAAA;AAAA,kBACE;AAAA;AAAA,KAAOF,KAAK,CAACG,KAAb,CADF,CADF,eAIE;AAAA,wCAAa;AAAb,kBACE;AAAA;AAAA,oBAAkBH,KAAK,CAACI,UAAxB,CADF,CAJF,CAJF;AAAA;AAAA,qvHADF;AA4CF;;AACD,SAASC,MAAT,QAA0B;AAAA,MAARC,MAAQ,SAARA,MAAQ;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,sBACG;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGA,MAAM,CAACG,GAAP,CAAW,UAAAT,KAAK;AAAA,wBAAE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAEA,KAAlB;AAAyB,MAAA,GAAG,EAAEA,KAAK,CAACU;AAApC,MAAF;AAAA,GAAhB,CADH,CADF,CADH;AAOD;;AAEDL,MAAM,CAACM,eAAP;AAAA,uEAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOC,YAAAA,GAAP,SAAOA,GAAP;AAAA,yBACFA,GAAG,CAACC,KADF,EACdC,KADc,cACdA,KADc,EACRC,IADQ,cACRA,IADQ;AAAA;AAAA,mBAGGjB,GAAG,CAACkB,OAAJ,CAAY;AAClCC,cAAAA,GAAG,mBAAWH,KAAX,cAAoBC,IAApB;AAD+B,aAAZ,EAEtBH,GAAG,CAACM,GAFkB,EAEdN,GAAG,CAACO,GAFU,CAHH;;AAAA;AAGfC,YAAAA,WAHe;AAAA,6CAOd;AACLd,cAAAA,MAAM,EAACc,WAAW,CAACC;AADd,aAPc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAexB,aAAa,CAACQ,MAAD,EAAQ,QAAR,CAA5B","sourcesContent":["import {Avatar} from 'antd'\r\nimport withRepoBasic from '../../components/with-repo-basic'\r\n\r\nimport api from '../../lib/api'\r\n\r\nfunction IssueItem({issue}){\r\n   return (\r\n     <div className=\"issue\">\r\n       <div className=\"avatar\">\r\n         <Avatar src={issue.user.avatar_url} shape=\"square\" size={50} />\r\n       </div>\r\n       <div className=\"main-info\">\r\n         <h6>\r\n           <span>{issue.title}</span>\r\n         </h6>\r\n         <p className=\"sub-info\">\r\n           <span>Updated at {issue.updated_at}</span>\r\n         </p>\r\n       </div>\r\n      <style jsx>{`\r\n          .issue {\r\n            display: flex;\r\n            position: relative;\r\n            padding: 10px;\r\n          }\r\n          .issue:hover {\r\n            background: #fafafa;\r\n          }\r\n          .issue + .issue {\r\n            border-top: 1px solid #eee;\r\n          }\r\n          .main-info > h6 {\r\n            max-width: 600px;\r\n            font-size: 16px;\r\n            padding-right: 40px;\r\n          }\r\n          .avatar {\r\n            margin-right: 20px;\r\n          }\r\n          .sub-info {\r\n            margin-bottom: 0;\r\n          }\r\n          .sub-info > span + span {\r\n            display: inline-block;\r\n            margin-left: 20px;\r\n            font-size: 12px;\r\n          }\r\n      `}</style>\r\n     </div>\r\n   )\r\n}\r\nfunction Issues ({issues}){\r\n  console.log(issues)\r\n  return (\r\n     <div className=\"root\">\r\n       <div className=\"issues\">\r\n         {issues.map(issue=><IssueItem issue={issue} key={issue.id} />)}\r\n       </div>\r\n     </div>\r\n  )\r\n}\r\n\r\nIssues.getInitialProps=async({ctx})=>{\r\n  const {owner,name}=ctx.query\r\n\r\n  const issuesRepos=await api.request({\r\n    url:`/repos/${owner}/${name}/issues`\r\n  },ctx.req,ctx.res)\r\n\r\n  return {\r\n    issues:issuesRepos.data\r\n  }\r\n}\r\n\r\nexport default withRepoBasic(Issues,'issues')"]},"metadata":{},"sourceType":"module"}