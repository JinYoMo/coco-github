{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\n// import React from 'react' //next.js框架以默认将react引入，此处无需再引入\n// import Router from 'next/router'\n// import Link from 'next/link'\n// import {Button} from 'antd'\nimport { connect } from 'react-redux';\nimport { add } from '../store/store';\n\nvar Index = function Index(_ref) {\n  var counter = _ref.counter,\n      username = _ref.username,\n      rename = _ref.rename,\n      add = _ref.add;\n  // function goToB(){\n  //   Router.push({\n  //     pathname:'/b',\n  //     query:{\n  //       id:2\n  //     }\n  //   },'/b/2')\n  // }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", null, \"Count \", counter), /*#__PURE__*/React.createElement(\"a\", null, \"UserName \", username), /*#__PURE__*/React.createElement(\"input\", {\n    value: username,\n    onChange: function onChange(e) {\n      return rename(e.target.value);\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return add(counter);\n    }\n  }, \"do add\"));\n}; //改变了store的状态\n\n\nIndex.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var reduxStore;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            reduxStore = _ref2.reduxStore;\n            reduxStore.dispatch(add(3));\n            return _context.abrupt(\"return\", {});\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}(); //export default 必须是一个函数 connect返回的就是函数\n\n\nexport default connect(function mapStateToProps(state) {\n  return {\n    counter: state.counter.count,\n    username: state.user.username\n  };\n}, function mapDispatchToProps(dispatch) {\n  return {\n    add: function add(num) {\n      return dispatch({\n        type: 'ADD',\n        num: num\n      });\n    },\n    rename: function rename(name) {\n      return dispatch({\n        type: 'UPDATE_USERNAME',\n        name: name\n      });\n    }\n  };\n})(Index);","map":{"version":3,"sources":["E:/个人项目/gitHub项目/coco-github/pages/index.js"],"names":["connect","add","Index","counter","username","rename","e","target","value","getInitialProps","reduxStore","dispatch","mapStateToProps","state","count","user","mapDispatchToProps","num","type","name"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA,SAAQA,OAAR,QAAsB,aAAtB;AACA,SAAQC,GAAR,QAAkB,gBAAlB;;AACA,IAAMC,KAAK,GAAE,SAAPA,KAAO,OAAmC;AAAA,MAAjCC,OAAiC,QAAjCA,OAAiC;AAAA,MAAzBC,QAAyB,QAAzBA,QAAyB;AAAA,MAAhBC,MAAgB,QAAhBA,MAAgB;AAAA,MAATJ,GAAS,QAATA,GAAS;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,sBACE,uDACC,4CAAaE,OAAb,CADD,eAEC,4CAAaC,QAAb,CAFD,eAGC;AAAO,IAAA,KAAK,EAAEA,QAAd;AAAwB,IAAA,QAAQ,EAAE,kBAACE,CAAD;AAAA,aAAKD,MAAM,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAAA;AAAlC,IAHD,eAIC;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAIP,GAAG,CAACE,OAAD,CAAP;AAAA;AAAjB,cAJD,CADF;AASD,CApBD,C,CAsBA;;;AACAD,KAAK,CAACO,eAAN;AAAA,uEAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAOC,YAAAA,UAAP,SAAOA,UAAP;AACnBA,YAAAA,UAAU,CAACC,QAAX,CAAoBV,GAAG,CAAC,CAAD,CAAvB;AADmB,6CAEZ,EAFY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA,I,CAIA;;;AACA,eAAeD,OAAO,CAAC,SAASY,eAAT,CAAyBC,KAAzB,EAA+B;AACnD,SAAO;AACLV,IAAAA,OAAO,EAACU,KAAK,CAACV,OAAN,CAAcW,KADjB;AAELV,IAAAA,QAAQ,EAACS,KAAK,CAACE,IAAN,CAAWX;AAFf,GAAP;AAIF,CALqB,EAKpB,SAASY,kBAAT,CAA4BL,QAA5B,EAAqC;AACpC,SAAM;AACJV,IAAAA,GAAG,EAAC,aAACgB,GAAD;AAAA,aAAON,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAC,KAAN;AAAYD,QAAAA,GAAG,EAAHA;AAAZ,OAAD,CAAf;AAAA,KADA;AAEJZ,IAAAA,MAAM,EAAC,gBAACc,IAAD;AAAA,aAAQR,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAC,iBAAN;AAAwBC,QAAAA,IAAI,EAAJA;AAAxB,OAAD,CAAhB;AAAA;AAFH,GAAN;AAIF,CAVqB,CAAP,CAUZjB,KAVY,CAAf","sourcesContent":["// import React from 'react' //next.js框架以默认将react引入，此处无需再引入\r\n// import Router from 'next/router'\r\n// import Link from 'next/link'\r\n// import {Button} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport {add} from '../store/store'\r\nconst Index= ({counter,username,rename,add}) => {\r\n\r\n  // function goToB(){\r\n  //   Router.push({\r\n  //     pathname:'/b',\r\n  //     query:{\r\n  //       id:2\r\n  //     }\r\n  //   },'/b/2')\r\n  // }\r\n\r\n  return (\r\n    <>\r\n     <span>Count {counter}</span>\r\n     <a>UserName {username}</a>\r\n     <input value={username} onChange={(e)=>rename(e.target.value)} />\r\n     <button onClick={()=>add(counter)}>do add</button>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n//改变了store的状态\r\nIndex.getInitialProps=async({reduxStore})=>{\r\n   reduxStore.dispatch(add(3))\r\n   return {}\r\n}\r\n//export default 必须是一个函数 connect返回的就是函数\r\nexport default connect(function mapStateToProps(state){\r\n   return {\r\n     counter:state.counter.count,\r\n     username:state.user.username\r\n   }\r\n},function mapDispatchToProps(dispatch){\r\n   return{\r\n     add:(num)=>dispatch({type:'ADD',num}),\r\n     rename:(name)=>dispatch({type:'UPDATE_USERNAME',name})\r\n   }\r\n})(Index)"]},"metadata":{},"sourceType":"module"}