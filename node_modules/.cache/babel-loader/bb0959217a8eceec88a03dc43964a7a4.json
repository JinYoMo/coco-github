{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _Icon from \"antd/lib/icon\";\nimport _Button from \"antd/lib/button\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { useEffect } from 'react';\nimport getConfig from 'next/config';\nimport { connect } from 'react-redux';\nimport Router, { withRouter } from 'next/router';\nimport LRU from 'lru-cache';\nimport Repo from '../components/Repo';\nimport { cacheArray } from '../lib/repo-basic-cache';\n\nvar api = require('../lib/api');\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig;\n\nvar cachedUserRepos, cachedUserStaredRepos;\nvar isServer = typeof window === 'undefined'; //注意缓存在客户端和服务端公用的情况，引入isServer判断 并且设置了时效\n// const cache=new LRU({\n//   maxAge:1000*60*10  //最长10min不去使用缓存数据就清空\n// })\n\nfunction Index(_ref) {\n  var userRepos = _ref.userRepos,\n      userStaredRepos = _ref.userStaredRepos,\n      user = _ref.user,\n      router = _ref.router;\n  console.log(userRepos, userStaredRepos, user, router);\n  var tabKey = router.query.key || '1';\n\n  var handleTabChange = function handleTabChange(activeKey) {\n    Router.push(\"/?key=\".concat(activeKey));\n  }; //第一次进来发现有数据就会被缓存\n\n\n  useEffect(function () {\n    if (!isServer) {\n      cachedUserRepos = userRepos;\n      cachedUserStaredRepos = userStaredRepos; // //不是服务端的情况下，对数据进行缓存，方便再次进入不需要调接口\n      // if(userRepos){\n      //   cache.set('userRepos',userRepos)\n      // }\n      // if(userStaredRepos){\n      //   cache.set('userStaredRepos',userStaredRepos)\n      // }\n\n      var timeout = setTimeout(function () {\n        cachedUserRepos = null;\n        cachedUserStaredRepos = null;\n      }, 1000 * 60 * 10); //10min必须清空策略\n    }\n  }, [userRepos, userStaredRepos]); //监听参数发生变化则会调用\n\n  if (user && user.id) {\n    //每次调用存储数据\n    useEffect(function () {\n      //客户端情况下保存\n      if (!isServer) {// cacheArray(userRepos)\n        // cacheArray(userStaredRepos)\n      }\n    });\n  }\n\n  if (!user || !user.id) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-3888340167\" + \" \" + \"root\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"jsx-3888340167\"\n    }, \"\\u4EB2\\uFF0C\\u60A8\\u8FD8\\u6CA1\\u6709\\u767B\\u5F55\\u54E6~\"), /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      href: publicRuntimeConfig.OAUTH_URL\n    }, \"\\u70B9\\u51FB\\u767B\\u5F55\"), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3888340167\"\n    }, \".root.jsx-3888340167{height:400px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxpbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0RG1CLEFBR3VCLGFBQ0EsMEVBQ1MsOEVBQ0MsbUdBQ0osNkZBQ3BCIiwiZmlsZSI6IkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7dXNlRWZmZWN0fSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHtCdXR0b24sSWNvbixUYWJzfSBmcm9tICdhbnRkJyBcclxuaW1wb3J0IGdldENvbmZpZyBmcm9tICduZXh0L2NvbmZpZydcclxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcclxuaW1wb3J0IFJvdXRlcix7d2l0aFJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcbmltcG9ydCBMUlUgZnJvbSAnbHJ1LWNhY2hlJ1xyXG5cclxuaW1wb3J0IFJlcG8gZnJvbSAnLi4vY29tcG9uZW50cy9SZXBvJ1xyXG5pbXBvcnQge2NhY2hlQXJyYXl9IGZyb20gJy4uL2xpYi9yZXBvLWJhc2ljLWNhY2hlJ1xyXG5cclxuY29uc3QgYXBpPXJlcXVpcmUoJy4uL2xpYi9hcGknKVxyXG5cclxuY29uc3QgeyBwdWJsaWNSdW50aW1lQ29uZmlnIH0gPSBnZXRDb25maWcoKVxyXG5cclxubGV0IGNhY2hlZFVzZXJSZXBvcywgY2FjaGVkVXNlclN0YXJlZFJlcG9zXHJcblxyXG5jb25zdCBpc1NlcnZlcj10eXBlb2Ygd2luZG93ID09PSd1bmRlZmluZWQnXHJcblxyXG4vL+azqOaEj+e8k+WtmOWcqOWuouaIt+err+WSjOacjeWKoeerr+WFrOeUqOeahOaDheWGte+8jOW8leWFpWlzU2VydmVy5Yik5patIOW5tuS4lOiuvue9ruS6huaXtuaViFxyXG4vLyBjb25zdCBjYWNoZT1uZXcgTFJVKHtcclxuLy8gICBtYXhBZ2U6MTAwMCo2MCoxMCAgLy/mnIDplb8xMG1pbuS4jeWOu+S9v+eUqOe8k+WtmOaVsOaNruWwsea4heepulxyXG4vLyB9KVxyXG4gZnVuY3Rpb24gSW5kZXgoe3VzZXJSZXBvcyx1c2VyU3RhcmVkUmVwb3MsdXNlcixyb3V0ZXJ9KXtcclxuICBjb25zb2xlLmxvZyh1c2VyUmVwb3MsdXNlclN0YXJlZFJlcG9zLHVzZXIscm91dGVyKVxyXG4gIGNvbnN0IHRhYktleT1yb3V0ZXIucXVlcnkua2V5IHx8ICcxJztcclxuICBjb25zdCBoYW5kbGVUYWJDaGFuZ2U9IGFjdGl2ZUtleSA9PntcclxuICAgICBSb3V0ZXIucHVzaChgLz9rZXk9JHthY3RpdmVLZXl9YClcclxuICB9XHJcbiAgLy/nrKzkuIDmrKHov5vmnaXlj5HnjrDmnInmlbDmja7lsLHkvJrooqvnvJPlrZhcclxuICB1c2VFZmZlY3QoKCk9PntcclxuICAgIGlmKCFpc1NlcnZlcil7XHJcbiAgICAgIGNhY2hlZFVzZXJSZXBvcyA9IHVzZXJSZXBvc1xyXG4gICAgICBjYWNoZWRVc2VyU3RhcmVkUmVwb3MgPSB1c2VyU3RhcmVkUmVwb3NcclxuICAgICAgLy8gLy/kuI3mmK/mnI3liqHnq6/nmoTmg4XlhrXkuIvvvIzlr7nmlbDmja7ov5vooYznvJPlrZjvvIzmlrnkvr/lho3mrKHov5vlhaXkuI3pnIDopoHosIPmjqXlj6NcclxuICAgICAgLy8gaWYodXNlclJlcG9zKXtcclxuICAgICAgLy8gICBjYWNoZS5zZXQoJ3VzZXJSZXBvcycsdXNlclJlcG9zKVxyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIGlmKHVzZXJTdGFyZWRSZXBvcyl7XHJcbiAgICAgIC8vICAgY2FjaGUuc2V0KCd1c2VyU3RhcmVkUmVwb3MnLHVzZXJTdGFyZWRSZXBvcylcclxuICAgICAgLy8gfVxyXG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgY2FjaGVkVXNlclJlcG9zID0gbnVsbFxyXG4gICAgICAgIGNhY2hlZFVzZXJTdGFyZWRSZXBvcyA9IG51bGxcclxuICAgICAgfSwgMTAwMCAqIDYwICogMTApICAvLzEwbWlu5b+F6aG75riF56m6562W55WlXHJcbiAgICB9XHJcbiAgfSxbdXNlclJlcG9zLHVzZXJTdGFyZWRSZXBvc10pICAvL+ebkeWQrOWPguaVsOWPkeeUn+WPmOWMluWImeS8muiwg+eUqFxyXG4gIGlmKHVzZXImJnVzZXIuaWQpe1xyXG4gICAgLy/mr4/mrKHosIPnlKjlrZjlgqjmlbDmja5cclxuICAgIHVzZUVmZmVjdCgoKT0+e1xyXG4gICAgICAvL+WuouaIt+err+aDheWGteS4i+S/neWtmFxyXG4gICAgICBpZighaXNTZXJ2ZXIpe1xyXG4gICAgICAgIC8vIGNhY2hlQXJyYXkodXNlclJlcG9zKVxyXG4gICAgICAgIC8vIGNhY2hlQXJyYXkodXNlclN0YXJlZFJlcG9zKVxyXG4gICAgICB9IFxyXG4gICAgfSlcclxuICB9XHJcbiAgIGlmKCF1c2VyfHwhdXNlci5pZCl7XHJcbiAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicm9vdFwiPlxyXG4gICAgICAgPHA+5Lqy77yM5oKo6L+Y5rKh5pyJ55m75b2V5ZOmfjwvcD5cclxuICAgICAgIDxCdXR0b24gdHlwZT1cInByaW1hcnlcIiBocmVmPXtwdWJsaWNSdW50aW1lQ29uZmlnLk9BVVRIX1VSTH0+54K55Ye755m75b2VPC9CdXR0b24+XHJcbiAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgLnJvb3R7XHJcbiAgICAgICAgICBoZWlnaHQ6NDAwcHg7XHJcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6Y2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgIGB9PC9zdHlsZT5cclxuICAgICA8L2Rpdj5cclxuICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb290XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPXt1c2VyLmF2YXRhcl91cmx9IGFsdD1cInVzZXIgYXZhdGFyXCIgY2xhc3NOYW1lPVwiYXZhdGFyXCIgLz5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsb2dpblwiPnt1c2VyLmxvZ2lufTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYW1lXCI+e3VzZXIubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmlvXCI+e3VzZXIuYmlvfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJlbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwibWFpbFwiIHN0eWxlPXt7bWFyZ2luUmlnaHQ6MTB9fT48L0ljb24+XHJcbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIuaHRtbF91cmx9IHRhcmdldD1cIl9ibGFja1wiPnt1c2VyLmh0bWxfdXJsfTwvYT5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1yZXBvc1wiPlxyXG4gICAgICAgICAgICAgICAgPFRhYnMgYWN0aXZlS2V5PXt0YWJLZXl9IG9uQ2hhbmdlPXtoYW5kbGVUYWJDaGFuZ2V9IGFuaW1hdGVkPXtmYWxzZX0+XHJcbiAgICAgICAgICAgICAgICAgIDxUYWJzLlRhYlBhbmUgdGFiPVwi5L2g55qE5LuT5bqTXCIga2V5PVwiMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt1c2VyUmVwb3MubWFwKHJlcG89PihcclxuICAgICAgICAgICAgICAgICAgICAgIDxSZXBvIGtleT17cmVwby5pZH0gcmVwbz17cmVwb30gLz5cclxuICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgPC9UYWJzLlRhYlBhbmU+XHJcbiAgICAgICAgICAgICAgICAgIDxUYWJzLlRhYlBhbmUgdGFiPVwi5L2g5YWz5rOo55qE5LuT5bqTXCIga2V5PVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt1c2VyU3RhcmVkUmVwb3MubWFwKHJlcG89PihcclxuICAgICAgICAgICAgICAgICAgICAgIDxSZXBvIGtleT17cmVwby5pZH0gcmVwbz17cmVwb30gLz5cclxuICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgPC9UYWJzLlRhYlBhbmU+XHJcbiAgICAgICAgICAgICAgICA8L1RhYnM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgLnJvb3R7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICAgIGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzoyMHB4IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnVzZXItaW5mb3tcclxuICAgICAgICAgICAgICB3aWR0aDoyMDBweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6NDBweDtcclxuICAgICAgICAgICAgICBmbGV4LXNocmluazowO1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmxvZ2lue1xyXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OjgwMDtcclxuICAgICAgICAgICAgICBmb250LXNpemU6MjBweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tdG9wOjIwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLm5hbWV7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6Izc3NztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuYmlve1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6IzMzMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuYXZhdGFye1xyXG4gICAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo1cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnVzZXItcmVwb3N7XHJcbiAgICAgICAgICAgICAgZmxleC1ncm93OjE7ICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gfVxyXG4gLy/mnI3liqHnq6/lkozlrqLmiLfnq6/pg73kvJrmiafooYxcclxuIC8qKlxyXG4gICog5a6i5oi356uv5YiH5o2i5LiO6K6/6ZeuSW5kZXjpobXpnaLmnI3liqHnq6/muLLmn5Ppg73kvJrmiafooYxnZXRJbml0aWFsUHJvcHNcclxuICAqIOWcqOacjeWKoeerr+a4suafk+eahOaXtuWAme+8jOi/kOihjOeOr+Wig+aYr+WkhOS6jm5vZGVqc+eOr+Wig++8jOiAjOS4jeaYr+WkhOS6jua1j+iniOWZqOeahOeOr+Wig1xyXG4gICog5Zyobm9kZWpz546v5aKD5LitYXhpb3MuZ2V0KCcvZ2l0aHViL3NlYXJjaC9yZXBvc2l0b3JpZXM/cT1yZWFjdCcp5pa55byP6K+35rGC77yM5Lya6K+35rGCJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAvZ2l0aHViL3NlYXJjaC9yZXBvc2l0b3JpZXM/cT1yZWFjdCflnLDlnYDvvIzov5nkuKrlnLDlnYDmmI7mmL7or7fmsYLkuI3miJDlip9cclxuICAqIOino+WGs+eahOaWueW8j+aYr+ivt+axgmFwaeaXtuWIpOaWreaYr+WQpuS4uuacjeWKoeerr++8jOaPkOWPluWHuuWFrOWFseeahGxpYi9hcGkuanNcclxuICAqIOWuouaIt+err+eahOivt+axguS8muWIsHNlcnZlci9hcGkuanPkuK3lgZrlpITnkIbvvIzov5Tlm57nu5nlrqLmiLfnq69cclxuICAqIOS7peS4iuWwseaYr+WQjOaehOeahOamguW/teKAlOKAlOWwseaYr+aciemDqOWIhuS7o+eggemDveWPr+iDveS8muWcqOWuouaIt+err+WSjOacjeWKoeerr+aJp+ihjO+8jOWboOatpOi/meauteS7o+eggeWwseimgemAguW6lOa1j+iniOWZqOeahOaJp+ihjOeOr+Wig++8jOS5n+imgemAguW6lG5vZGVqc+eahOaJp+ihjOeOr+Wig++8jOWboOatpOWBmuWMuuWIhuWkhOeQhu+8jOacgOe7iOaxh+mbhuWIsOS4gOS4queCuXJlcXVlc3RHaXRodWLkuIrpnaLvvIzkv53or4HlnKjlrqLmiLfnq6/lkozmnI3liqHnq6/pg73lj6/mraPluLjmiafooYxcclxuICAqL1xyXG4gSW5kZXguZ2V0SW5pdGlhbFByb3BzPWFzeW5jICh7Y3R4LHJlZHV4U3RvcmV9KT0+e1xyXG4gIC8vICBjb25zdCByZXN1bHQ9YXdhaXQgYXhpb3NcclxuICAvLyAgLmdldCgnL2dpdGh1Yi9zZWFyY2gvcmVwb3NpdG9yaWVzP3E9cmVhY3QnKVxyXG4gIC8vICAudGhlbihyZXNwPT5jb25zb2xlLmxvZyhyZXNwKSlcclxuICBjb25zdCB1c2VyPXJlZHV4U3RvcmUuZ2V0U3RhdGUoKS51c2VyOyAvL+aLv+WIsOeUqOaIt+S/oeaBr1xyXG4gIGlmKCF1c2VyfHwhdXNlci5pZCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0xvZ2luOmZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmKCFpc1NlcnZlcil7XHJcbiAgICAvL+S4jeaYr+acjeWKoeerr+eahOaDheWGteS4i++8jOWvueaVsOaNrui/m+ihjOe8k+WtmO+8jOWGjeasoei/m+WFpeS4jemcgOimgeiwg+aOpeWPo++8jOebtOaOpei/lOWbnlxyXG4gICAgLy8gaWYoY2FjaGUuZ2V0KCd1c2VyUmVwb3MnKSYmY2FjaGUuZ2V0KCd1c2VyU3RhcmVkUmVwb3MnKSl7XHJcbiAgICAvLyAgIHJldHVybiB7XHJcbiAgICAvLyAgICAgdXNlclJlcG9zOmNhY2hlLmdldCgndXNlclJlcG9zJyksXHJcbiAgICAvLyAgICAgdXNlclN0YXJlZFJlcG9zOmNhY2hlLmdldCgndXNlclN0YXJlZFJlcG9zJylcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gICAgaWYgKGNhY2hlZFVzZXJSZXBvcyAmJiBjYWNoZWRVc2VyU3RhcmVkUmVwb3MpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VyUmVwb3M6IGNhY2hlZFVzZXJSZXBvcyxcclxuICAgICAgICB1c2VyU3RhcmVkUmVwb3M6IGNhY2hlZFVzZXJTdGFyZWRSZXBvcyxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvL2N0eC5yZXEsY3R4LnJlc+WPquacieWcqOacjeWKoeerr+a4suafk+aXtuaJjeS8muaciVxyXG4gIC8v6LCD55So5b2T5YmN55So5oi355qE5LuT5bqT5YiX6KGoXHJcbiAgY29uc3QgdXNlclJlcG9zPSBhd2FpdCBhcGkucmVxdWVzdChcclxuICAgIHtcclxuICAgICAgdXJsOiAnL3VzZXIvcmVwb3MnLFxyXG4gICAgfSxcclxuICAgIGN0eC5yZXEsXHJcbiAgICBjdHgucmVzLFxyXG4gIClcclxuICAvL+iwg+eUqOWFs+azqOeahOS7k+W6k+WIl+ihqFxyXG4gIGNvbnN0IHVzZXJTdGFyZWRSZXBvcz0gYXdhaXQgYXBpLnJlcXVlc3QoXHJcbiAgICB7XHJcbiAgICAgIHVybDogJy91c2VyL3N0YXJyZWQnLFxyXG4gICAgfSxcclxuICAgIGN0eC5yZXEsXHJcbiAgICBjdHgucmVzLFxyXG4gIClcclxuICAgcmV0dXJuIHtcclxuICAgICBpc0xvZ2luOnRydWUsXHJcbiAgICAgdXNlclJlcG9zOnVzZXJSZXBvcy5kYXRhLFxyXG4gICAgIHVzZXJTdGFyZWRSZXBvczp1c2VyU3RhcmVkUmVwb3MuZGF0YVxyXG4gICB9XHJcbiB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKFxyXG4gIGNvbm5lY3QoZnVuY3Rpb24gbWFwU3RhdGUoc3RhdGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXI6IHN0YXRlLnVzZXIsXHJcbiAgICB9XHJcbiAgfSkoSW5kZXgpLFxyXG4pIl19 */\\n/*@ sourceURL=E:\\\\\\u4E2A\\u4EBA\\u9879\\u76EE\\\\gitHub\\u9879\\u76EE\\\\coco-github\\\\pages\\\\index.js */\"));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2910819430\" + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2910819430\" + \" \" + \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.avatar_url,\n    alt: \"user avatar\",\n    className: \"jsx-2910819430\" + \" \" + \"avatar\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2910819430\" + \" \" + \"login\"\n  }, user.login), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2910819430\" + \" \" + \"name\"\n  }, user.name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2910819430\" + \" \" + \"bio\"\n  }, user.bio), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"jsx-2910819430\" + \" \" + \"email\"\n  }, /*#__PURE__*/React.createElement(_Icon, {\n    type: \"mail\",\n    style: {\n      marginRight: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: user.html_url,\n    target: \"_black\",\n    className: \"jsx-2910819430\"\n  }, user.html_url))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2910819430\" + \" \" + \"user-repos\"\n  }, /*#__PURE__*/React.createElement(_Tabs, {\n    activeKey: tabKey,\n    onChange: handleTabChange,\n    animated: false\n  }, /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n    tab: \"\\u4F60\\u7684\\u4ED3\\u5E93\",\n    key: \"1\"\n  }, userRepos.map(function (repo) {\n    return /*#__PURE__*/React.createElement(Repo, {\n      key: repo.id,\n      repo: repo\n    });\n  })), /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n    tab: \"\\u4F60\\u5173\\u6CE8\\u7684\\u4ED3\\u5E93\",\n    key: \"2\"\n  }, userStaredRepos.map(function (repo) {\n    return /*#__PURE__*/React.createElement(Repo, {\n      key: repo.id,\n      repo: repo\n    });\n  })))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2910819430\"\n  }, \".root.jsx-2910819430{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:20px 0;}.user-info.jsx-2910819430{width:200px;margin-right:40px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.login.jsx-2910819430{font-weight:800;font-size:20px;margin-top:20px;}.name.jsx-2910819430{font-size:16px;color:#777;}.bio.jsx-2910819430{margin-top:20px;color:#333;}.avatar.jsx-2910819430{width:100%;border-radius:5px;}.user-repos.jsx-2910819430{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFzkuKrkurrpobnnm65cXGdpdEh1YumhueebrlxcY29jby1naXRodWJcXHBhZ2VzXFxpbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpR3NCLEFBRzJCLEFBS0QsQUFPSSxBQUtELEFBSUUsQUFJTixBQUlDLFdBSE0sQ0FwQkEsR0FZUCxDQUxJLEFBU0osVUFIWixDQUlBLEVBSUEsQ0FwQmUsQ0FPRSxnQkFDakIsd0JBZUEsR0E3QndCLFlBT1YsMEVBQ1MsdUJBUFAsZUFDaEIsd0NBT0EiLCJmaWxlIjoiRTpcXOS4quS6uumhueebrlxcZ2l0SHVi6aG555uuXFxjb2NvLWdpdGh1YlxccGFnZXNcXGluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt1c2VFZmZlY3R9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQge0J1dHRvbixJY29uLFRhYnN9IGZyb20gJ2FudGQnIFxyXG5pbXBvcnQgZ2V0Q29uZmlnIGZyb20gJ25leHQvY29uZmlnJ1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG5pbXBvcnQgUm91dGVyLHt3aXRoUm91dGVyfSBmcm9tICduZXh0L3JvdXRlcidcclxuaW1wb3J0IExSVSBmcm9tICdscnUtY2FjaGUnXHJcblxyXG5pbXBvcnQgUmVwbyBmcm9tICcuLi9jb21wb25lbnRzL1JlcG8nXHJcbmltcG9ydCB7Y2FjaGVBcnJheX0gZnJvbSAnLi4vbGliL3JlcG8tYmFzaWMtY2FjaGUnXHJcblxyXG5jb25zdCBhcGk9cmVxdWlyZSgnLi4vbGliL2FwaScpXHJcblxyXG5jb25zdCB7IHB1YmxpY1J1bnRpbWVDb25maWcgfSA9IGdldENvbmZpZygpXHJcblxyXG5sZXQgY2FjaGVkVXNlclJlcG9zLCBjYWNoZWRVc2VyU3RhcmVkUmVwb3NcclxuXHJcbmNvbnN0IGlzU2VydmVyPXR5cGVvZiB3aW5kb3cgPT09J3VuZGVmaW5lZCdcclxuXHJcbi8v5rOo5oSP57yT5a2Y5Zyo5a6i5oi356uv5ZKM5pyN5Yqh56uv5YWs55So55qE5oOF5Ya177yM5byV5YWlaXNTZXJ2ZXLliKTmlq0g5bm25LiU6K6+572u5LqG5pe25pWIXHJcbi8vIGNvbnN0IGNhY2hlPW5ldyBMUlUoe1xyXG4vLyAgIG1heEFnZToxMDAwKjYwKjEwICAvL+acgOmVvzEwbWlu5LiN5Y675L2/55So57yT5a2Y5pWw5o2u5bCx5riF56m6XHJcbi8vIH0pXHJcbiBmdW5jdGlvbiBJbmRleCh7dXNlclJlcG9zLHVzZXJTdGFyZWRSZXBvcyx1c2VyLHJvdXRlcn0pe1xyXG4gIGNvbnNvbGUubG9nKHVzZXJSZXBvcyx1c2VyU3RhcmVkUmVwb3MsdXNlcixyb3V0ZXIpXHJcbiAgY29uc3QgdGFiS2V5PXJvdXRlci5xdWVyeS5rZXkgfHwgJzEnO1xyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZT0gYWN0aXZlS2V5ID0+e1xyXG4gICAgIFJvdXRlci5wdXNoKGAvP2tleT0ke2FjdGl2ZUtleX1gKVxyXG4gIH1cclxuICAvL+esrOS4gOasoei/m+adpeWPkeeOsOacieaVsOaNruWwseS8muiiq+e8k+WtmFxyXG4gIHVzZUVmZmVjdCgoKT0+e1xyXG4gICAgaWYoIWlzU2VydmVyKXtcclxuICAgICAgY2FjaGVkVXNlclJlcG9zID0gdXNlclJlcG9zXHJcbiAgICAgIGNhY2hlZFVzZXJTdGFyZWRSZXBvcyA9IHVzZXJTdGFyZWRSZXBvc1xyXG4gICAgICAvLyAvL+S4jeaYr+acjeWKoeerr+eahOaDheWGteS4i++8jOWvueaVsOaNrui/m+ihjOe8k+WtmO+8jOaWueS+v+WGjeasoei/m+WFpeS4jemcgOimgeiwg+aOpeWPo1xyXG4gICAgICAvLyBpZih1c2VyUmVwb3Mpe1xyXG4gICAgICAvLyAgIGNhY2hlLnNldCgndXNlclJlcG9zJyx1c2VyUmVwb3MpXHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gaWYodXNlclN0YXJlZFJlcG9zKXtcclxuICAgICAgLy8gICBjYWNoZS5zZXQoJ3VzZXJTdGFyZWRSZXBvcycsdXNlclN0YXJlZFJlcG9zKVxyXG4gICAgICAvLyB9XHJcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjYWNoZWRVc2VyUmVwb3MgPSBudWxsXHJcbiAgICAgICAgY2FjaGVkVXNlclN0YXJlZFJlcG9zID0gbnVsbFxyXG4gICAgICB9LCAxMDAwICogNjAgKiAxMCkgIC8vMTBtaW7lv4XpobvmuIXnqbrnrZbnlaVcclxuICAgIH1cclxuICB9LFt1c2VyUmVwb3MsdXNlclN0YXJlZFJlcG9zXSkgIC8v55uR5ZCs5Y+C5pWw5Y+R55Sf5Y+Y5YyW5YiZ5Lya6LCD55SoXHJcbiAgaWYodXNlciYmdXNlci5pZCl7XHJcbiAgICAvL+avj+asoeiwg+eUqOWtmOWCqOaVsOaNrlxyXG4gICAgdXNlRWZmZWN0KCgpPT57XHJcbiAgICAgIC8v5a6i5oi356uv5oOF5Ya15LiL5L+d5a2YXHJcbiAgICAgIGlmKCFpc1NlcnZlcil7XHJcbiAgICAgICAgLy8gY2FjaGVBcnJheSh1c2VyUmVwb3MpXHJcbiAgICAgICAgLy8gY2FjaGVBcnJheSh1c2VyU3RhcmVkUmVwb3MpXHJcbiAgICAgIH0gXHJcbiAgICB9KVxyXG4gIH1cclxuICAgaWYoIXVzZXJ8fCF1c2VyLmlkKXtcclxuICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb290XCI+XHJcbiAgICAgICA8cD7kurLvvIzmgqjov5jmsqHmnInnmbvlvZXlk6Z+PC9wPlxyXG4gICAgICAgPEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIGhyZWY9e3B1YmxpY1J1bnRpbWVDb25maWcuT0FVVEhfVVJMfT7ngrnlh7vnmbvlvZU8L0J1dHRvbj5cclxuICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAucm9vdHtcclxuICAgICAgICAgIGhlaWdodDo0MDBweDtcclxuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDpjZW50ZXI7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgYH08L3N0eWxlPlxyXG4gICAgIDwvZGl2PlxyXG4gICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvb3RcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgPGltZyBzcmM9e3VzZXIuYXZhdGFyX3VybH0gYWx0PVwidXNlciBhdmF0YXJcIiBjbGFzc05hbWU9XCJhdmF0YXJcIiAvPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvZ2luXCI+e3VzZXIubG9naW59PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWVcIj57dXNlci5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiaW9cIj57dXNlci5iaW99PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJtYWlsXCIgc3R5bGU9e3ttYXJnaW5SaWdodDoxMH19PjwvSWNvbj5cclxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci5odG1sX3VybH0gdGFyZ2V0PVwiX2JsYWNrXCI+e3VzZXIuaHRtbF91cmx9PC9hPlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLXJlcG9zXCI+XHJcbiAgICAgICAgICAgICAgICA8VGFicyBhY3RpdmVLZXk9e3RhYktleX0gb25DaGFuZ2U9e2hhbmRsZVRhYkNoYW5nZX0gYW5pbWF0ZWQ9e2ZhbHNlfT5cclxuICAgICAgICAgICAgICAgICAgPFRhYnMuVGFiUGFuZSB0YWI9XCLkvaDnmoTku5PlupNcIiBrZXk9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3VzZXJSZXBvcy5tYXAocmVwbz0+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgPFJlcG8ga2V5PXtyZXBvLmlkfSByZXBvPXtyZXBvfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICA8L1RhYnMuVGFiUGFuZT5cclxuICAgICAgICAgICAgICAgICAgPFRhYnMuVGFiUGFuZSB0YWI9XCLkvaDlhbPms6jnmoTku5PlupNcIiBrZXk9XCIyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3VzZXJTdGFyZWRSZXBvcy5tYXAocmVwbz0+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgPFJlcG8ga2V5PXtyZXBvLmlkfSByZXBvPXtyZXBvfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICA8L1RhYnMuVGFiUGFuZT5cclxuICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAucm9vdHtcclxuICAgICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6ZmxleC1zdGFydDtcclxuICAgICAgICAgICAgICBwYWRkaW5nOjIwcHggMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAudXNlci1pbmZve1xyXG4gICAgICAgICAgICAgIHdpZHRoOjIwMHB4O1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDo0MHB4O1xyXG4gICAgICAgICAgICAgIGZsZXgtc2hyaW5rOjA7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAubG9naW57XHJcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6ODAwO1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZToyMHB4O1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6MjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAubmFtZXtcclxuICAgICAgICAgICAgICBmb250LXNpemU6MTZweDtcclxuICAgICAgICAgICAgICBjb2xvcjojNzc3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5iaW97XHJcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICAgICAgICBjb2xvcjojMzMzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5hdmF0YXJ7XHJcbiAgICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjVweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAudXNlci1yZXBvc3tcclxuICAgICAgICAgICAgICBmbGV4LWdyb3c6MTsgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiB9XHJcbiAvL+acjeWKoeerr+WSjOWuouaIt+err+mDveS8muaJp+ihjFxyXG4gLyoqXHJcbiAgKiDlrqLmiLfnq6/liIfmjaLkuI7orr/pl65JbmRleOmhtemdouacjeWKoeerr+a4suafk+mDveS8muaJp+ihjGdldEluaXRpYWxQcm9wc1xyXG4gICog5Zyo5pyN5Yqh56uv5riy5p+T55qE5pe25YCZ77yM6L+Q6KGM546v5aKD5piv5aSE5LqObm9kZWpz546v5aKD77yM6ICM5LiN5piv5aSE5LqO5rWP6KeI5Zmo55qE546v5aKDXHJcbiAgKiDlnKhub2RlanPnjq/looPkuK1heGlvcy5nZXQoJy9naXRodWIvc2VhcmNoL3JlcG9zaXRvcmllcz9xPXJlYWN0JynmlrnlvI/or7fmsYLvvIzkvJror7fmsYInaHR0cDovL2xvY2FsaG9zdDo4MC9naXRodWIvc2VhcmNoL3JlcG9zaXRvcmllcz9xPXJlYWN0J+WcsOWdgO+8jOi/meS4quWcsOWdgOaYjuaYvuivt+axguS4jeaIkOWKn1xyXG4gICog6Kej5Yaz55qE5pa55byP5piv6K+35rGCYXBp5pe25Yik5pat5piv5ZCm5Li65pyN5Yqh56uv77yM5o+Q5Y+W5Ye65YWs5YWx55qEbGliL2FwaS5qc1xyXG4gICog5a6i5oi356uv55qE6K+35rGC5Lya5Yiwc2VydmVyL2FwaS5qc+S4reWBmuWkhOeQhu+8jOi/lOWbnue7meWuouaIt+err1xyXG4gICog5Lul5LiK5bCx5piv5ZCM5p6E55qE5qaC5b+14oCU4oCU5bCx5piv5pyJ6YOo5YiG5Luj56CB6YO95Y+v6IO95Lya5Zyo5a6i5oi356uv5ZKM5pyN5Yqh56uv5omn6KGM77yM5Zug5q2k6L+Z5q615Luj56CB5bCx6KaB6YCC5bqU5rWP6KeI5Zmo55qE5omn6KGM546v5aKD77yM5Lmf6KaB6YCC5bqUbm9kZWpz55qE5omn6KGM546v5aKD77yM5Zug5q2k5YGa5Yy65YiG5aSE55CG77yM5pyA57uI5rGH6ZuG5Yiw5LiA5Liq54K5cmVxdWVzdEdpdGh1YuS4iumdou+8jOS/neivgeWcqOWuouaIt+err+WSjOacjeWKoeerr+mDveWPr+ato+W4uOaJp+ihjFxyXG4gICovXHJcbiBJbmRleC5nZXRJbml0aWFsUHJvcHM9YXN5bmMgKHtjdHgscmVkdXhTdG9yZX0pPT57XHJcbiAgLy8gIGNvbnN0IHJlc3VsdD1hd2FpdCBheGlvc1xyXG4gIC8vICAuZ2V0KCcvZ2l0aHViL3NlYXJjaC9yZXBvc2l0b3JpZXM/cT1yZWFjdCcpXHJcbiAgLy8gIC50aGVuKHJlc3A9PmNvbnNvbGUubG9nKHJlc3ApKVxyXG4gIGNvbnN0IHVzZXI9cmVkdXhTdG9yZS5nZXRTdGF0ZSgpLnVzZXI7IC8v5ou/5Yiw55So5oi35L+h5oGvXHJcbiAgaWYoIXVzZXJ8fCF1c2VyLmlkKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzTG9naW46ZmFsc2VcclxuICAgIH1cclxuICB9XHJcbiAgaWYoIWlzU2VydmVyKXtcclxuICAgIC8v5LiN5piv5pyN5Yqh56uv55qE5oOF5Ya15LiL77yM5a+55pWw5o2u6L+b6KGM57yT5a2Y77yM5YaN5qyh6L+b5YWl5LiN6ZyA6KaB6LCD5o6l5Y+j77yM55u05o6l6L+U5ZueXHJcbiAgICAvLyBpZihjYWNoZS5nZXQoJ3VzZXJSZXBvcycpJiZjYWNoZS5nZXQoJ3VzZXJTdGFyZWRSZXBvcycpKXtcclxuICAgIC8vICAgcmV0dXJuIHtcclxuICAgIC8vICAgICB1c2VyUmVwb3M6Y2FjaGUuZ2V0KCd1c2VyUmVwb3MnKSxcclxuICAgIC8vICAgICB1c2VyU3RhcmVkUmVwb3M6Y2FjaGUuZ2V0KCd1c2VyU3RhcmVkUmVwb3MnKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoY2FjaGVkVXNlclJlcG9zICYmIGNhY2hlZFVzZXJTdGFyZWRSZXBvcykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZXJSZXBvczogY2FjaGVkVXNlclJlcG9zLFxyXG4gICAgICAgIHVzZXJTdGFyZWRSZXBvczogY2FjaGVkVXNlclN0YXJlZFJlcG9zLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vY3R4LnJlcSxjdHgucmVz5Y+q5pyJ5Zyo5pyN5Yqh56uv5riy5p+T5pe25omN5Lya5pyJXHJcbiAgLy/osIPnlKjlvZPliY3nlKjmiLfnmoTku5PlupPliJfooahcclxuICBjb25zdCB1c2VyUmVwb3M9IGF3YWl0IGFwaS5yZXF1ZXN0KFxyXG4gICAge1xyXG4gICAgICB1cmw6ICcvdXNlci9yZXBvcycsXHJcbiAgICB9LFxyXG4gICAgY3R4LnJlcSxcclxuICAgIGN0eC5yZXMsXHJcbiAgKVxyXG4gIC8v6LCD55So5YWz5rOo55qE5LuT5bqT5YiX6KGoXHJcbiAgY29uc3QgdXNlclN0YXJlZFJlcG9zPSBhd2FpdCBhcGkucmVxdWVzdChcclxuICAgIHtcclxuICAgICAgdXJsOiAnL3VzZXIvc3RhcnJlZCcsXHJcbiAgICB9LFxyXG4gICAgY3R4LnJlcSxcclxuICAgIGN0eC5yZXMsXHJcbiAgKVxyXG4gICByZXR1cm4ge1xyXG4gICAgIGlzTG9naW46dHJ1ZSxcclxuICAgICB1c2VyUmVwb3M6dXNlclJlcG9zLmRhdGEsXHJcbiAgICAgdXNlclN0YXJlZFJlcG9zOnVzZXJTdGFyZWRSZXBvcy5kYXRhXHJcbiAgIH1cclxuIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoXHJcbiAgY29ubmVjdChmdW5jdGlvbiBtYXBTdGF0ZShzdGF0ZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlcjogc3RhdGUudXNlcixcclxuICAgIH1cclxuICB9KShJbmRleCksXHJcbikiXX0= */\\n/*@ sourceURL=E:\\\\\\u4E2A\\u4EBA\\u9879\\u76EE\\\\gitHub\\u9879\\u76EE\\\\coco-github\\\\pages\\\\index.js */\"));\n} //服务端和客户端都会执行\n\n/**\r\n * 客户端切换与访问Index页面服务端渲染都会执行getInitialProps\r\n * 在服务端渲染的时候，运行环境是处于nodejs环境，而不是处于浏览器的环境\r\n * 在nodejs环境中axios.get('/github/search/repositories?q=react')方式请求，会请求'http://localhost:80/github/search/repositories?q=react'地址，这个地址明显请求不成功\r\n * 解决的方式是请求api时判断是否为服务端，提取出公共的lib/api.js\r\n * 客户端的请求会到server/api.js中做处理，返回给客户端\r\n * 以上就是同构的概念——就是有部分代码都可能会在客户端和服务端执行，因此这段代码就要适应浏览器的执行环境，也要适应nodejs的执行环境，因此做区分处理，最终汇集到一个点requestGithub上面，保证在客户端和服务端都可正常执行\r\n */\n\n\nIndex.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var ctx, reduxStore, user, userRepos, userStaredRepos;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ctx = _ref2.ctx, reduxStore = _ref2.reduxStore;\n            //  const result=await axios\n            //  .get('/github/search/repositories?q=react')\n            //  .then(resp=>console.log(resp))\n            user = reduxStore.getState().user; //拿到用户信息\n\n            if (!(!user || !user.id)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              isLogin: false\n            });\n\n          case 4:\n            if (isServer) {\n              _context.next = 7;\n              break;\n            }\n\n            if (!(cachedUserRepos && cachedUserStaredRepos)) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              userRepos: cachedUserRepos,\n              userStaredRepos: cachedUserStaredRepos\n            });\n\n          case 7:\n            _context.next = 9;\n            return api.request({\n              url: '/user/repos'\n            }, ctx.req, ctx.res);\n\n          case 9:\n            userRepos = _context.sent;\n            _context.next = 12;\n            return api.request({\n              url: '/user/starred'\n            }, ctx.req, ctx.res);\n\n          case 12:\n            userStaredRepos = _context.sent;\n            return _context.abrupt(\"return\", {\n              isLogin: true,\n              userRepos: userRepos.data,\n              userStaredRepos: userStaredRepos.data\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default withRouter(connect(function mapState(state) {\n  return {\n    user: state.user\n  };\n})(Index));","map":{"version":3,"sources":["E:/个人项目/gitHub项目/coco-github/pages/index.js"],"names":["useEffect","getConfig","connect","Router","withRouter","LRU","Repo","cacheArray","api","require","publicRuntimeConfig","cachedUserRepos","cachedUserStaredRepos","isServer","window","Index","userRepos","userStaredRepos","user","router","console","log","tabKey","query","key","handleTabChange","activeKey","push","timeout","setTimeout","id","OAUTH_URL","avatar_url","login","name","bio","marginRight","html_url","map","repo","getInitialProps","ctx","reduxStore","getState","isLogin","request","url","req","res","data","mapState","state"],"mappings":";;;;;;;AAAA,SAAQA,SAAR,QAAwB,OAAxB;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,MAAP,IAAeC,UAAf,QAAgC,aAAhC;AACA,OAAOC,GAAP,MAAgB,WAAhB;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAAQC,UAAR,QAAyB,yBAAzB;;AAEA,IAAMC,GAAG,GAACC,OAAO,CAAC,YAAD,CAAjB;;iBAEgCR,SAAS,E;IAAjCS,mB,cAAAA,mB;;AAER,IAAIC,eAAJ,EAAqBC,qBAArB;AAEA,IAAMC,QAAQ,GAAC,OAAOC,MAAP,KAAiB,WAAhC,C,CAEA;AACA;AACA;AACA;;AACC,SAASC,KAAT,OAAuD;AAAA,MAAvCC,SAAuC,QAAvCA,SAAuC;AAAA,MAA7BC,eAA6B,QAA7BA,eAA6B;AAAA,MAAbC,IAAa,QAAbA,IAAa;AAAA,MAARC,MAAQ,QAARA,MAAQ;AACtDC,EAAAA,OAAO,CAACC,GAAR,CAAYL,SAAZ,EAAsBC,eAAtB,EAAsCC,IAAtC,EAA2CC,MAA3C;AACA,MAAMG,MAAM,GAACH,MAAM,CAACI,KAAP,CAAaC,GAAb,IAAoB,GAAjC;;AACA,MAAMC,eAAe,GAAE,SAAjBA,eAAiB,CAAAC,SAAS,EAAG;AAChCvB,IAAAA,MAAM,CAACwB,IAAP,iBAAqBD,SAArB;AACF,GAFD,CAHsD,CAMtD;;;AACA1B,EAAAA,SAAS,CAAC,YAAI;AACZ,QAAG,CAACa,QAAJ,EAAa;AACXF,MAAAA,eAAe,GAAGK,SAAlB;AACAJ,MAAAA,qBAAqB,GAAGK,eAAxB,CAFW,CAGX;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAMW,OAAO,GAAGC,UAAU,CAAC,YAAM;AAC/BlB,QAAAA,eAAe,GAAG,IAAlB;AACAC,QAAAA,qBAAqB,GAAG,IAAxB;AACD,OAHyB,EAGvB,OAAO,EAAP,GAAY,EAHW,CAA1B,CAVW,CAaS;AACrB;AACF,GAhBQ,EAgBP,CAACI,SAAD,EAAWC,eAAX,CAhBO,CAAT,CAPsD,CAuBtB;;AAChC,MAAGC,IAAI,IAAEA,IAAI,CAACY,EAAd,EAAiB;AACf;AACA9B,IAAAA,SAAS,CAAC,YAAI;AACZ;AACA,UAAG,CAACa,QAAJ,EAAa,CACX;AACA;AACD;AACF,KANQ,CAAT;AAOD;;AACA,MAAG,CAACK,IAAD,IAAO,CAACA,IAAI,CAACY,EAAhB,EAAmB;AACjB,wBAAO;AAAA,0CAAe;AAAf,oBACL;AAAA;AAAA,iEADK,eAEL;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAEpB,mBAAmB,CAACqB;AAAjD,kCAFK;AAAA;AAAA,4rUAAP;AAaD;;AACA,sBACE;AAAA,wCAAe;AAAf,kBACI;AAAA,wCAAe;AAAf,kBACI;AAAK,IAAA,GAAG,EAAEb,IAAI,CAACc,UAAf;AAA2B,IAAA,GAAG,EAAC,aAA/B;AAAA,wCAAuD;AAAvD,IADJ,eAEI;AAAA,wCAAgB;AAAhB,KAAyBd,IAAI,CAACe,KAA9B,CAFJ,eAGI;AAAA,wCAAgB;AAAhB,KAAwBf,IAAI,CAACgB,IAA7B,CAHJ,eAII;AAAA,wCAAgB;AAAhB,KAAuBhB,IAAI,CAACiB,GAA5B,CAJJ,eAKI;AAAA,wCAAa;AAAb,kBACI;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,KAAK,EAAE;AAACC,MAAAA,WAAW,EAAC;AAAb;AAAzB,IADJ,eAEI;AAAG,IAAA,IAAI,EAAElB,IAAI,CAACmB,QAAd;AAAwB,IAAA,MAAM,EAAC,QAA/B;AAAA;AAAA,KAAyCnB,IAAI,CAACmB,QAA9C,CAFJ,CALJ,CADJ,eAWI;AAAA,wCAAe;AAAf,kBACM;AAAM,IAAA,SAAS,EAAEf,MAAjB;AAAyB,IAAA,QAAQ,EAAEG,eAAnC;AAAoD,IAAA,QAAQ,EAAE;AAA9D,kBACE,0BAAM,OAAN;AAAc,IAAA,GAAG,EAAC,0BAAlB;AAAyB,IAAA,GAAG,EAAC;AAA7B,KACGT,SAAS,CAACsB,GAAV,CAAc,UAAAC,IAAI;AAAA,wBACjB,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACT,EAAhB;AAAoB,MAAA,IAAI,EAAES;AAA1B,MADiB;AAAA,GAAlB,CADH,CADF,eAME,0BAAM,OAAN;AAAc,IAAA,GAAG,EAAC,sCAAlB;AAA2B,IAAA,GAAG,EAAC;AAA/B,KACGtB,eAAe,CAACqB,GAAhB,CAAoB,UAAAC,IAAI;AAAA,wBACvB,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACT,EAAhB;AAAoB,MAAA,IAAI,EAAES;AAA1B,MADuB;AAAA,GAAxB,CADH,CANF,CADN,CAXJ;AAAA;AAAA,0uVADF;AA8DF,C,CACD;;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACCxB,KAAK,CAACyB,eAAN;AAAA,uEAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,YAAAA,GAAR,SAAQA,GAAR,EAAYC,UAAZ,SAAYA,UAAZ;AACrB;AACA;AACA;AACMxB,YAAAA,IAJe,GAIVwB,UAAU,CAACC,QAAX,GAAsBzB,IAJZ,EAIkB;;AAJlB,kBAKlB,CAACA,IAAD,IAAO,CAACA,IAAI,CAACY,EALK;AAAA;AAAA;AAAA;;AAAA,6CAMZ;AACLc,cAAAA,OAAO,EAAC;AADH,aANY;;AAAA;AAAA,gBAUjB/B,QAViB;AAAA;AAAA;AAAA;;AAAA,kBAkBfF,eAAe,IAAIC,qBAlBJ;AAAA;AAAA;AAAA;;AAAA,6CAmBV;AACLI,cAAAA,SAAS,EAAEL,eADN;AAELM,cAAAA,eAAe,EAAEL;AAFZ,aAnBU;;AAAA;AAAA;AAAA,mBA2BEJ,GAAG,CAACqC,OAAJ,CACrB;AACEC,cAAAA,GAAG,EAAE;AADP,aADqB,EAIrBL,GAAG,CAACM,GAJiB,EAKrBN,GAAG,CAACO,GALiB,CA3BF;;AAAA;AA2BfhC,YAAAA,SA3Be;AAAA;AAAA,mBAmCQR,GAAG,CAACqC,OAAJ,CAC3B;AACEC,cAAAA,GAAG,EAAE;AADP,aAD2B,EAI3BL,GAAG,CAACM,GAJuB,EAK3BN,GAAG,CAACO,GALuB,CAnCR;;AAAA;AAmCf/B,YAAAA,eAnCe;AAAA,6CA0Cb;AACL2B,cAAAA,OAAO,EAAC,IADH;AAEL5B,cAAAA,SAAS,EAACA,SAAS,CAACiC,IAFf;AAGLhC,cAAAA,eAAe,EAACA,eAAe,CAACgC;AAH3B,aA1Ca;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA;;AAiDD,eAAe7C,UAAU,CACvBF,OAAO,CAAC,SAASgD,QAAT,CAAkBC,KAAlB,EAAyB;AAC/B,SAAO;AACLjC,IAAAA,IAAI,EAAEiC,KAAK,CAACjC;AADP,GAAP;AAGD,CAJM,CAAP,CAIGH,KAJH,CADuB,CAAzB","sourcesContent":["import {useEffect} from 'react'\r\nimport {Button,Icon,Tabs} from 'antd' \r\nimport getConfig from 'next/config'\r\nimport {connect} from 'react-redux'\r\nimport Router,{withRouter} from 'next/router'\r\nimport LRU from 'lru-cache'\r\n\r\nimport Repo from '../components/Repo'\r\nimport {cacheArray} from '../lib/repo-basic-cache'\r\n\r\nconst api=require('../lib/api')\r\n\r\nconst { publicRuntimeConfig } = getConfig()\r\n\r\nlet cachedUserRepos, cachedUserStaredRepos\r\n\r\nconst isServer=typeof window ==='undefined'\r\n\r\n//注意缓存在客户端和服务端公用的情况，引入isServer判断 并且设置了时效\r\n// const cache=new LRU({\r\n//   maxAge:1000*60*10  //最长10min不去使用缓存数据就清空\r\n// })\r\n function Index({userRepos,userStaredRepos,user,router}){\r\n  console.log(userRepos,userStaredRepos,user,router)\r\n  const tabKey=router.query.key || '1';\r\n  const handleTabChange= activeKey =>{\r\n     Router.push(`/?key=${activeKey}`)\r\n  }\r\n  //第一次进来发现有数据就会被缓存\r\n  useEffect(()=>{\r\n    if(!isServer){\r\n      cachedUserRepos = userRepos\r\n      cachedUserStaredRepos = userStaredRepos\r\n      // //不是服务端的情况下，对数据进行缓存，方便再次进入不需要调接口\r\n      // if(userRepos){\r\n      //   cache.set('userRepos',userRepos)\r\n      // }\r\n      // if(userStaredRepos){\r\n      //   cache.set('userStaredRepos',userStaredRepos)\r\n      // }\r\n      const timeout = setTimeout(() => {\r\n        cachedUserRepos = null\r\n        cachedUserStaredRepos = null\r\n      }, 1000 * 60 * 10)  //10min必须清空策略\r\n    }\r\n  },[userRepos,userStaredRepos])  //监听参数发生变化则会调用\r\n  if(user&&user.id){\r\n    //每次调用存储数据\r\n    useEffect(()=>{\r\n      //客户端情况下保存\r\n      if(!isServer){\r\n        // cacheArray(userRepos)\r\n        // cacheArray(userStaredRepos)\r\n      } \r\n    })\r\n  }\r\n   if(!user||!user.id){\r\n     return <div className=\"root\">\r\n       <p>亲，您还没有登录哦~</p>\r\n       <Button type=\"primary\" href={publicRuntimeConfig.OAUTH_URL}>点击登录</Button>\r\n       <style jsx>{`\r\n        .root{\r\n          height:400px;\r\n          display:flex;\r\n          flex-direction:column;\r\n          justify-content:center;\r\n          align-items:center;\r\n        }\r\n       `}</style>\r\n     </div>\r\n   }\r\n    return (\r\n      <div className=\"root\">\r\n          <div className=\"user-info\">\r\n              <img src={user.avatar_url} alt=\"user avatar\" className=\"avatar\" />\r\n              <span className=\"login\">{user.login}</span>\r\n              <span className=\"name\">{user.name}</span>\r\n              <span className=\"bio\">{user.bio}</span>\r\n              <p className=\"email\">\r\n                  <Icon type=\"mail\" style={{marginRight:10}}></Icon>\r\n                  <a href={user.html_url} target=\"_black\">{user.html_url}</a>\r\n              </p>\r\n          </div>\r\n          <div className=\"user-repos\">\r\n                <Tabs activeKey={tabKey} onChange={handleTabChange} animated={false}>\r\n                  <Tabs.TabPane tab=\"你的仓库\" key=\"1\">\r\n                    {userRepos.map(repo=>(\r\n                      <Repo key={repo.id} repo={repo} />\r\n                    ))}\r\n                  </Tabs.TabPane>\r\n                  <Tabs.TabPane tab=\"你关注的仓库\" key=\"2\">\r\n                    {userStaredRepos.map(repo=>(\r\n                      <Repo key={repo.id} repo={repo} />\r\n                    ))}\r\n                  </Tabs.TabPane>\r\n                </Tabs>\r\n          </div>\r\n          <style jsx>{`\r\n            .root{\r\n              display:flex;\r\n              align-items:flex-start;\r\n              padding:20px 0;\r\n            }\r\n            .user-info{\r\n              width:200px;\r\n              margin-right:40px;\r\n              flex-shrink:0;\r\n              display:flex;\r\n              flex-direction:column;\r\n            }\r\n            .login{\r\n              font-weight:800;\r\n              font-size:20px;\r\n              margin-top:20px;\r\n            }\r\n            .name{\r\n              font-size:16px;\r\n              color:#777;\r\n            }\r\n            .bio{\r\n              margin-top: 20px;\r\n              color:#333;\r\n            }\r\n            .avatar{\r\n              width:100%;\r\n              border-radius:5px;\r\n            }\r\n            .user-repos{\r\n              flex-grow:1;  \r\n            }\r\n            `}</style>\r\n      </div>\r\n    )\r\n }\r\n //服务端和客户端都会执行\r\n /**\r\n  * 客户端切换与访问Index页面服务端渲染都会执行getInitialProps\r\n  * 在服务端渲染的时候，运行环境是处于nodejs环境，而不是处于浏览器的环境\r\n  * 在nodejs环境中axios.get('/github/search/repositories?q=react')方式请求，会请求'http://localhost:80/github/search/repositories?q=react'地址，这个地址明显请求不成功\r\n  * 解决的方式是请求api时判断是否为服务端，提取出公共的lib/api.js\r\n  * 客户端的请求会到server/api.js中做处理，返回给客户端\r\n  * 以上就是同构的概念——就是有部分代码都可能会在客户端和服务端执行，因此这段代码就要适应浏览器的执行环境，也要适应nodejs的执行环境，因此做区分处理，最终汇集到一个点requestGithub上面，保证在客户端和服务端都可正常执行\r\n  */\r\n Index.getInitialProps=async ({ctx,reduxStore})=>{\r\n  //  const result=await axios\r\n  //  .get('/github/search/repositories?q=react')\r\n  //  .then(resp=>console.log(resp))\r\n  const user=reduxStore.getState().user; //拿到用户信息\r\n  if(!user||!user.id){\r\n    return {\r\n      isLogin:false\r\n    }\r\n  }\r\n  if(!isServer){\r\n    //不是服务端的情况下，对数据进行缓存，再次进入不需要调接口，直接返回\r\n    // if(cache.get('userRepos')&&cache.get('userStaredRepos')){\r\n    //   return {\r\n    //     userRepos:cache.get('userRepos'),\r\n    //     userStaredRepos:cache.get('userStaredRepos')\r\n    //   }\r\n    // }\r\n    if (cachedUserRepos && cachedUserStaredRepos) {\r\n      return {\r\n        userRepos: cachedUserRepos,\r\n        userStaredRepos: cachedUserStaredRepos,\r\n      }\r\n    }\r\n  }\r\n  //ctx.req,ctx.res只有在服务端渲染时才会有\r\n  //调用当前用户的仓库列表\r\n  const userRepos= await api.request(\r\n    {\r\n      url: '/user/repos',\r\n    },\r\n    ctx.req,\r\n    ctx.res,\r\n  )\r\n  //调用关注的仓库列表\r\n  const userStaredRepos= await api.request(\r\n    {\r\n      url: '/user/starred',\r\n    },\r\n    ctx.req,\r\n    ctx.res,\r\n  )\r\n   return {\r\n     isLogin:true,\r\n     userRepos:userRepos.data,\r\n     userStaredRepos:userStaredRepos.data\r\n   }\r\n }\r\n\r\nexport default withRouter(\r\n  connect(function mapState(state) {\r\n    return {\r\n      user: state.user,\r\n    }\r\n  })(Index),\r\n)"]},"metadata":{},"sourceType":"module"}